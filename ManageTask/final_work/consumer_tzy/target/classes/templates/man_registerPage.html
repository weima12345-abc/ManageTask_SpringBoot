
<!--
    Last modified: 2022-06-25 18:40:11
    Url: https://www.axui.cn
-->
<!DOCTYPE html>
<html>
<head>

  <meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=no" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  <meta name="apple-touch-fullscreen" content="yes"/>
  <meta name="format-detection" content="email=no" />
  <meta name="wap-font-scale"  content="no" />
  <meta name="viewport" content="user-scalable=no, width=device-width" />
  <meta content="telephone=no" name="format-detection" />
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

  <title>登录卡片</title>
  <meta name="description" content="，AXUI前端框架是面向设计，满足设计多样化需求的前端解决方案，减少或剔除JS文件资源和API。AXUI前端框架原则是能用css写的不用js；能用js写的不用插件；能用插件的不重复引用插件。核心文件只有ax.css和ax.js，加载速度飞快。">
  <meta name="keywords" content=",前端框架,UI,CSS3,HTML5,原生JS,面向设计,前端工程师">

  <link href="/css/ax.css" rel="stylesheet" type="text/css" >
  <link href="/css/ax-response.css" rel="stylesheet" type="text/css" >
  <link href="/css/main.css" rel="stylesheet" type="text/css">
</head>

<body class="ax-align-origin">


<div class="login ax-shadow-cloud ax-radius-md">
  <div class="ax-row ax-radius-md ax-split">
    <div class="ax-col ax-col-14 ax-radius-left ax-radius-md cover"></div>
    <div class="ax-col ax-col-10">
      <div class="core">

        <div class="ax-break"></div>

        <div class="ax-tab" axTab>

          <ul class="ax-row ax-tab-nav ax-menu-tab">

            <a href="###" class="ax-item">布置作业</a>

            <!--                            <a href="###" class="ax-item"> 注册新用户</a>-->
            <li class="ax-col"></li>
          </ul>

          <ul class="ax-tab-content">



            <!--                            注册-->
            <li>
              <form class="Admin">

<!--                <div class="ax-form-group">-->
<!--                  <div class="ax-flex-row">-->
<!--                    <div class="ax-form-con">-->
<!--                      <div class="ax-form-input"><span class="ax-pos-left" style="width: 2.4rem;"><i class="ax-iconfont ax-icon-me-f"></i>-->
<!--                                                </span><input name="describe" id="register_name" placeholder="输入作业描述" type="text"><span class="ax-pos-right"><a href="###" class="ax-iconfont ax-icon-close ax-val-none"></a></span></div>-->
<!--                    </div>-->
<!--                  </div>-->
<!--                </div>-->

<!--                <div class="ax-break-md"></div>-->

<!--                <div class="ax-form-group">-->
<!--                  <div class="ax-flex-row">-->
<!--                    <div class="ax-form-con">-->
<!--                      <div class="ax-form-input"><span class="ax-pos-left" style="width:2.4rem;"><i class="ax-iconfont ax-icon-lock-f"></i></span>-->
<!--                        <input name="end" id="register_address" placeholder="输入截至时间" type="date"><span class="ax-pos-right"><a href="###" class="ax-iconfont ax-icon-close ax-val-none"></a></span>-->
<!--                      </div>-->
<!--                    </div>-->
<!--                  </div>-->
<!--                </div>-->

<!--                <div class="ax-break-md"></div>-->

<!--                <div class="ax-form-group">-->
<!--                  <div class="ax-flex-row">-->
<!--                    <div class="ax-form-con">-->
<!--                      <div class="ax-form-input"><span class="ax-pos-left" style="width:2.4rem;"><i class="ax-iconfont ax-icon-lock-f"></i></span>-->
<!--                        <input  id="register_r_address" placeholder="再次输入密码" type="password"><span class="ax-pos-right"><a href="###" class="ax-iconfont ax-icon-close ax-val-none"></a></span>-->
<!--                      </div>-->
<!--                    </div>-->
<!--                  </div>-->
<!--                </div>-->
<!--                <div class="ax-break-md"></div>-->

<!--                <div class="ax-form-group">-->
<!--                  <div class="ax-flex-row">-->
<!--                    <div class="ax-form-con">-->
<!--                      <div class="ax-form-input"><span class="ax-pos-left" style="width:2.4rem;"><i class="ax-iconfont ax-icon-lock-f"></i></span>-->
<!--                        <input name="email" id="register_yx" placeholder="输入邮箱" type="email"><span class="ax-pos-right"><a href="###" class="ax-iconfont ax-icon-close ax-val-none"></a></span>-->
<!--                      </div>-->
<!--                    </div>-->
<!--                  </div>-->
<!--                </div>-->



                <div class="ax-break-md"></div>

                <div class="ax-form-group">
                  <div class="ax-flex-row">
                    <div class="ax-form-con">
                      <div class="ax-form-input">
                        <div class="ax-row">
                          <div class="ax-flex-block">
                            <!--                                                            <label class="ax-checkbox"><input name="free-agree" value="0" checked="" type="checkbox"><span>注册成功后立即登录</span></label>-->
                          </div>
                          <!--                                                        <a href="###" class="ax-form-txt ax-color-primary">有账号？立即登录</a>-->
                        </div>
                      </div>
                    </div>
                  </div>
                </div>


                <div class="ax-break-md"></div>

                <div class="ax-form-group">
                  <div class="ax-flex-row">
                    <div class="ax-flex-block">
                      <div class="ax-form-input"><button type="button" class="ax-btn ax-primary ax-full" onclick="register()">提交</button></div>
                    </div>
                  </div>
                </div>

                <div class="ax-break"></div>
                <div class="ax-break ax-hide-tel"></div>
                <div class="ax-break ax-hide-tel"></div>

              </form>
            </li>



          </ul>
        </div>





      </div>
    </div>
  </div>
</div>

<!--正文结束-->

<!--    <div class="footer">-->
<!--        &#xa9; 2022 <a href="https://sc.chinaz.com/" target="_self">sc.chinaz.com/</a> <a href="https://baike.baidu.com/item/MIT许可证" target="_blank" rel="nofollow">MIT license</a>-->
<!--    </div>-->

<script src="/js/ax.min.js" type="text/javascript"></script>
<script type="text/javascript" src="/js/jquery.min.js"></script>
<script>
let  getUserName;
let  role;
  $.ajax({
    url: 'http://localhost:8001/getUserSession',
    type: 'post',
    datatype: 'json',
    success: function (res) {
      console.log(res)
      getUserName = res;
      $("#userName").html("当前用户:" + "  " + getUserName)
      $.ajax({
        url: 'http://localhost:8001/getUserROleSession',
        type: 'post',
        datatype: 'json',
        success: function (res) {
          role=res;
// alert(role)
          if (role == "Teacher") {

            let inserString=`

                <div class="ax-break"></div>
                <div class="ax-break ax-hide-tel"></div>

                <div class="ax-form-group">
                  <div class="ax-flex-row">
                    <div class="ax-form-con">
                      <div class="ax-form-input"><span class="ax-pos-left" style="width: 2.4rem;"><i class="ax-iconfont ax-icon-me-f"></i>
                                                </span><input name="describe" id="register_name" placeholder="输入作业描述" type="text"><span class="ax-pos-right"><a href="###" class="ax-iconfont ax-icon-close ax-val-none"></a></span></div>
                    </div>
                  </div>
                </div>

                <div class="ax-break-md"></div>

                <div class="ax-form-group">
                  <div class="ax-flex-row">
                    <div class="ax-form-con">
                      <div class="ax-form-input"><span class="ax-pos-left" style="width:2.4rem;"><i class="ax-iconfont ax-icon-lock-f"></i></span>
                        <input name="end" id="register_address" placeholder="输入截至时间" type="date"><span class="ax-pos-right"><a href="###" class="ax-iconfont ax-icon-close ax-val-none"></a></span>
                      </div>
                    </div>
                  </div>
                </div>
            `
            let inserStrings = decodeURIComponent(inserString);
            $.ajax({
              url: 'http://localhost:8001/index',
              type: 'get',
              datatype: 'json',
              success: function (res) {

                // console.log($(".search-tbody")[0].innerHTML)
                $(".Admin").html(inserStrings+ $(".Admin")[0] .innerHTML);
              }
            })
          }else {
            let inserString=`

                <div class="ax-break"></div>
                <div class="ax-break ax-hide-tel"></div>

                <div class="ax-form-group">
                  <div class="ax-flex-row">
                    <div class="ax-form-con">
                      <div class="ax-form-input"><span class="ax-pos-left" style="width: 2.4rem;"><i class="ax-iconfont ax-icon-me-f"></i>
                                                </span><input name="describe" id="register_name" placeholder="输入作业描述" type="text"><span class="ax-pos-right"><a href="###" class="ax-iconfont ax-icon-close ax-val-none"></a></span></div>
                    </div>
                  </div>
                </div>


            `
            let inserStrings = decodeURIComponent(inserString);
            $.ajax({
              url: 'http://localhost:8001/index',
              type: 'get',
              datatype: 'json',
              success: function (res) {
$(".ax-item").html("提交作业")
                // console.log($(".search-tbody")[0].innerHTML)
                $(".Admin").html(inserStrings+ $(".Admin")[0] .innerHTML);
              }
            })
          }
        }
      })

    }
  })




  function register(){
if(role=="Teacher"){


    var register_name=document.getElementById("register_name").value;
    var register_address=document.getElementById("register_address").value;
    $.ajax({
      url: 'http://localhost:8001/getUserSession',
      type: 'post',
      datatype: 'json',
      success: function (res) {
        $.ajax({
          url: 'http://localhost:8001/man_register',
          type: 'post',
          data:{name:register_name,z_end:register_address,builder:res},
          datatype: 'json',
          success: function(res1) {
            alert(res1);
            window.location.href="/showUserListPage_daijiatao"

          }
        })
      }
      })

  }else {

  var describe=document.getElementById("register_name").value;
  let id;
  $.ajax({
    url: 'http://localhost:8001/getUserSession',
    type: 'post',
    datatype: 'json',
    success: function (res) {
        $.ajax({
            url: 'http://localhost:8001/getTaskIdSession',
            type: 'post',
            datatype: 'json',
            success: function (res1) {
                id=res1;

                $.ajax({
                    url: 'http://localhost:8001/man_emitTask',
                    type: 'post',
                    data: {id:id,describe: describe, stu_name: res},
                    datatype: 'json',
                    success: function (res) {
                        alert(res);
                        window.location.href = "/showUserListPage_daijiatao"

                    }
                })
            }})
    }
  })
}
  }

</script>


</body>

</html>