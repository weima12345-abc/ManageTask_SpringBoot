
<!--
    Last modified: 2022-06-25 18:40:11
    Url: https://www.axui.cn
-->
<!DOCTYPE html>
<html>
<head>
    
    <meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=no" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black" />
    <meta name="apple-touch-fullscreen" content="yes"/>
    <meta name="format-detection" content="email=no" />
    <meta name="wap-font-scale"  content="no" />
    <meta name="viewport" content="user-scalable=no, width=device-width" />
    <meta content="telephone=no" name="format-detection" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

    <title>登录卡片</title>
    <meta name="description" content="，AXUI前端框架是面向设计，满足设计多样化需求的前端解决方案，减少或剔除JS文件资源和API。AXUI前端框架原则是能用css写的不用js；能用js写的不用插件；能用插件的不重复引用插件。核心文件只有ax.css和ax.js，加载速度飞快。">
    <meta name="keywords" content=",前端框架,UI,CSS3,HTML5,原生JS,面向设计,前端工程师">

    <link href="/css/ax.css" rel="stylesheet" type="text/css" >
    <link href="/css/ax-response.css" rel="stylesheet" type="text/css" >
    <link href="/css/main.css" rel="stylesheet" type="text/css">
</head>

<body class="ax-align-origin">


    <div class="login ax-shadow-cloud ax-radius-md">
        <div class="ax-row ax-radius-md ax-split">
            <div class="ax-col ax-col-14 ax-radius-left ax-radius-md cover"></div>
            <div class="ax-col ax-col-10">
                <div class="core">

                    <div class="ax-break"></div>

                    <div class="ax-tab" axTab>

                        <ul class="ax-row ax-tab-nav ax-menu-tab">
                            <a href="###" class="ax-item">用户名登录</a>
                            <a href="###" class="ax-item"> 注册新用户</a>
                            <a href="###" class="ax-item">邮箱登录</a>
<!--                            <a href="###" class="ax-item"> 注册新用户</a>-->
                            <li class="ax-col"></li>
                        </ul>

                        <ul class="ax-tab-content">

<!--                            用户名登录-->
                            <li>
                                <form>

                                    <div class="ax-break"></div>
                                    <div class="ax-break ax-hide-tel"></div>

                                    <div class="ax-form-group">
                                        <div class="ax-flex-row">
                                            <div class="ax-form-con">
                                                <div class="ax-form-input"><span class="ax-pos-left" style="width: 2.4rem;">
                                                    <i class="ax-iconfont ax-icon-me-f"></i>
                                                </span><input id="login_name" name="name"  placeholder="输入登录名称" type="text"><span class="ax-pos-right"><a href="###" class="ax-iconfont ax-icon-close ax-val-none"></a></span></div>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="ax-break-md"></div>

                                    <div class="ax-form-group">
                                        <div class="ax-flex-row">
                                            <div class="ax-form-con">
                                                <div class="ax-form-input"><span class="ax-pos-left" style="width:2.4rem;"><i class="ax-iconfont ax-icon-lock-f"></i></span>
                                                    <input id="login_address" name="address" placeholder="输入密码" type="password">
                                                    <span class="ax-pos-right"><a href="###" class="ax-iconfont ax-icon-close ax-val-none"></a></span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="ax-break-md"></div>

                                    <div class="ax-form-group">
                                        <div class="ax-flex-row">
                                            <div class="ax-form-con">
                                                <div class="ax-form-input">
                                                    <div class="ax-row">
                                                        <div class="ax-flex-block">
                                                            <span class="ax-pos-left" style="width:2.4rem;"><i class="ax-iconfont ax-icon-shield-f"></i></span>
                                                            <input id="login_code" name="code" placeholder="输入验证码..." value="" type="text"><span class="ax-pos-right"><a href="###" class="ax-iconfont ax-icon-close ax-val-none"></a></span>
                                                        </div>

                                                        <a href="###" class="ax-form-img"onclick="sendCode()" >
                                                            获取邮箱验证码
<!--                                                            <input name="code" type="button" onclick="sendCode()" value="发生邮件" />-->
<!--                                                            <span class="ax-form-img" onclick="sendCode()">获取手机验证码</span>-->
                                                        </a>
                                                    </div>
                                                </div>

                                            </div>
                                        </div>
                                    </div>


                                    <div class="ax-break-md"></div>

                                    <div class="ax-form-group">
                                        <div class="ax-flex-row">
                                            <div class="ax-form-con">
                                                <div class="ax-form-input">
                                                    <div class="ax-row">
                                                        <div class="ax-flex-block">
                                                            <label class="ax-checkbox"><input name="free-agree" value="0" checked="" type="checkbox"><span>记住密码</span></label>
                                                        </div>
<!--                                                        <a href="###"  class="ax-form-txt ax-color-ignore">忘记了密码？</a>-->
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>


                                    <div class="ax-break-md"></div>

                                    <div class="ax-form-group">
                                        <div class="ax-flex-row">
                                            <div class="ax-flex-block">
                                                <div class="ax-form-input"><button type="button" class="ax-btn ax-primary ax-full" onclick="login()">登录</button></div>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="ax-break"></div>
                                    <div class="ax-break ax-hide-tel"></div>
                                    <div class="ax-break ax-hide-tel"></div>

                                </form>
                            </li>



<!--                            注册-->
                            <li>
                                <form>

                                    <div class="ax-break"></div>
                                    <div class="ax-break ax-hide-tel"></div>

                                    <div class="ax-form-group">
                                        <div class="ax-flex-row">
                                            <div class="ax-form-con">
                                                <div class="ax-form-input"><span class="ax-pos-left" style="width: 2.4rem;"><i class="ax-iconfont ax-icon-me-f"></i>
                                                </span><input name="name" id="register_name" placeholder="输入名称" type="text"><span class="ax-pos-right"><a href="###" class="ax-iconfont ax-icon-close ax-val-none"></a></span></div>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="ax-break-md"></div>

                                    <div class="ax-form-group">
                                        <div class="ax-flex-row">
                                            <div class="ax-form-con">
                                                <div class="ax-form-input"><span class="ax-pos-left" style="width:2.4rem;"><i class="ax-iconfont ax-icon-lock-f"></i></span>
                                                    <input name="address" id="register_address" placeholder="输入密码" type="password"><span class="ax-pos-right"><a href="###" class="ax-iconfont ax-icon-close ax-val-none"></a></span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="ax-break-md"></div>

                                    <div class="ax-form-group">
                                        <div class="ax-flex-row">
                                            <div class="ax-form-con">
                                                <div class="ax-form-input"><span class="ax-pos-left" style="width:2.4rem;"><i class="ax-iconfont ax-icon-lock-f"></i></span>
                                                    <input  id="register_r_address" placeholder="再次输入密码" type="password"><span class="ax-pos-right"><a href="###" class="ax-iconfont ax-icon-close ax-val-none"></a></span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="ax-break-md"></div>

                                    <div class="ax-form-group">
                                        <div class="ax-flex-row">
                                            <div class="ax-form-con">
                                                <div class="ax-form-input"><span class="ax-pos-left" style="width:2.4rem;"><i class="ax-iconfont ax-icon-lock-f"></i></span>
                                                    <input name="email" id="register_yx" placeholder="输入邮箱" type="email"><span class="ax-pos-right"><a href="###" class="ax-iconfont ax-icon-close ax-val-none"></a></span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="ax-break-md"></div>

                                    <div class="ax-form-group">
                                        <div class="ax-flex-row">
                                            <div class="ax-form-con">
                                                <div class="ax-form-input">
                                                    <div class="ax-row">
                                                        <div class="ax-flex-block">
                                                            <span class="ax-pos-left" style="width:2.4rem;"><i class="ax-iconfont ax-icon-shield-f"></i></span>
                                                            <input id="register_code" name="code" placeholder="输入验证码..." value="" type="text"><span class="ax-pos-right"><a href="###" class="ax-iconfont ax-icon-close ax-val-none"></a></span>
                                                        </div>

                                                        <a href="###" class="ax-form-img" onclick="sendCode()">
                                                            获取邮箱验证码
                                                            <!--                                                            <input name="code" type="button" onclick="sendCode()" value="发生邮件" />-->
<!--                                                            <span class="ax-form-img" onclick="sendCode()">获取手机验证码</span>-->
                                                        </a>
                                                    </div>
                                                </div>

                                            </div>
                                        </div>
                                    </div>


                                    <div class="ax-break-md"></div>

                                    <div class="ax-form-group">
                                        <div class="ax-flex-row">
                                            <div class="ax-form-con">
                                                <div class="ax-form-input">
                                                    <div class="ax-row">
                                                        <div class="ax-flex-block">
<!--                                                            <label class="ax-checkbox"><input name="free-agree" value="0" checked="" type="checkbox"><span>注册成功后立即登录</span></label>-->
                                                        </div>
<!--                                                        <a href="###" class="ax-form-txt ax-color-primary">有账号？立即登录</a>-->
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>


                                    <div class="ax-break-md"></div>

                                    <div class="ax-form-group">
                                        <div class="ax-flex-row">
                                            <div class="ax-flex-block">
                                                <div class="ax-form-input"><button type="button" class="ax-btn ax-primary ax-full" onclick="register()">注册</button></div>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="ax-break"></div>
                                    <div class="ax-break ax-hide-tel"></div>
                                    <div class="ax-break ax-hide-tel"></div>

                                </form>
                            </li>



<!--                            邮箱登录-->
                            <li>
                                <form>

                                    <div class="ax-break"></div>
                                    <div class="ax-break ax-hide-tel"></div>

                                    <div class="ax-form-group">
                                        <div class="ax-flex-row">
                                            <div class="ax-form-con">
                                                <div class="ax-form-input"><span class="ax-pos-left" style="width:2.4rem;"><i class="ax-iconfont ax-icon-lock-f"></i></span>
                                                    <input name="name" id="login_yx" placeholder="输入邮箱" type="email"><span class="ax-pos-right">
                                                        <a href="###" class="ax-iconfont ax-icon-close ax-val-none"></a></span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="ax-break-md"></div>

                                    <div class="ax-form-group">
                                        <div class="ax-flex-row">
                                            <div class="ax-form-con">
                                                <div class="ax-form-input"><span class="ax-pos-left" style="width:2.4rem;"><i class="ax-iconfont ax-icon-lock-f"></i></span>
                                                    <input id="login_address1" name="address" placeholder="输入密码" type="password"><span class="ax-pos-right"><a href="###" class="ax-iconfont ax-icon-close ax-val-none"></a></span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="ax-break-md"></div>




                                    <div class="ax-form-group">
                                        <div class="ax-flex-row">
                                            <div class="ax-form-con">
                                                <div class="ax-form-input">
                                                    <div class="ax-row">
                                                        <div class="ax-flex-block">
                                                            <span class="ax-pos-left" style="width:2.4rem;"><i class="ax-iconfont ax-icon-shield-f"></i></span>
                                                            <input id="login_code1" name="code" placeholder="输入验证码..." value="" type="text"><span class="ax-pos-right"><a href="###" class="ax-iconfont ax-icon-close ax-val-none"></a></span>
                                                        </div>

                                                        <a href="###" class="ax-form-img"onclick="sendCode()" >
                                                            获取邮箱验证码
                                                            <!--                                                            <input name="code" type="button" onclick="sendCode()" value="发生邮件" />-->
                                                            <!--                                                            <span class="ax-form-img" onclick="sendCode()">获取手机验证码</span>-->
                                                        </a>
                                                    </div>
                                                </div>

                                            </div>
                                        </div>
                                    </div>


                                    <div class="ax-break-md"></div>

                                    <div class="ax-form-group">
                                        <div class="ax-flex-row">
                                            <div class="ax-form-con">
                                                <div class="ax-form-input">
                                                    <div class="ax-row">
                                                        <div class="ax-flex-block">
                                                            <label class="ax-checkbox"><input name="free-agree" value="0" checked="" type="checkbox"><span>记住密码</span></label>
                                                        </div>
                                                        <!--                                                        <a href="###"  class="ax-form-txt ax-color-ignore">忘记了密码？</a>-->
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>


                                    <div class="ax-break-md"></div>

                                    <div class="ax-form-group">
                                        <div class="ax-flex-row">
                                            <div class="ax-flex-block">
                                                <div class="ax-form-input"><button type="button" class="ax-btn ax-primary ax-full" onclick="loginYx()">登录</button></div>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="ax-break"></div>
                                    <div class="ax-break ax-hide-tel"></div>
                                    <div class="ax-break ax-hide-tel"></div>

                                </form>
                            </li>
                        </ul>
                    </div>





                </div>
            </div>
        </div>
    </div>

    <!--正文结束-->

<!--    <div class="footer">-->
<!--        &#xa9; 2022 <a href="https://sc.chinaz.com/" target="_self">sc.chinaz.com/</a> <a href="https://baike.baidu.com/item/MIT许可证" target="_blank" rel="nofollow">MIT license</a>-->
<!--    </div>-->

    <script src="/js/ax.min.js" type="text/javascript"></script>
<script type="text/javascript" src="/js/jquery.min.js"></script>
    <script>
var code;
        function sendCode() {
            // alert(1)
            // $.ajax({url:"/yanZhen",async:false});
            $.ajax({
                url: 'http://localhost:8001/yanZhen',
                async:false,
                type: 'post',

                datatype: 'json',
                success: function(res) {
                    // alert(res)
                    code=res;
                }
            })
        }

        function genTimestamp() {
            var time = new Date();
            return time.getTime();
        }


function login(){


    var login_name=document.getElementById("login_name").value;
    var login_address=document.getElementById("login_address").value;
    var login_code=document.getElementById("login_code").value;

    $.ajax({
        url: 'http://localhost:8001/login',
        type: 'post',
        data:{name:login_name,address:login_address,code:login_code,r_code:code},
        datatype: 'json',
        success: function(res) {
            // alert(res)
            if(res=="用户名不存在"){
                alert(res+"  "+"请重新输入用户名")
            }if(res=="验证码不正确"){
                alert(res+"  "+"请重新输入验证码")
            }
            if(res=="用户密码不正确"){
                alert(res+"  "+"请重新输入用户密码")
            }
            if(res=="登陆成功") {

                // $.ajax({
                //     url:"http://localhost:8081/testPage?currentPageNumber=2",
                //     type:"get"
                // })
                $.ajax({
                    url: 'http://localhost:8001/getUserROle',
                    type: 'post',
                    data:{name:login_name},
                    datatype: 'json',
                    success: function(res) {
                        alert(res+"  "+"即将跳转首页")
                        $.ajax({
                            url: 'http://localhost:8001/setUserSession',
                            type: 'post',
                            data: {userName: login_name},
                            datatype: 'json',
                            success: function (res1) {
                                console.log(res1+" "+"存储成功")

                                $.ajax({
                                    url: 'http://localhost:8001/setUserROleSession',
                                    type: 'post',
                                    data: {role: res},
                                    datatype: 'json',
                                    success: function (res2) {
                                        console.log(res2+" "+"存储成功")
                                        window.location.href="http://localhost:8001/index";

                                    }
                                })
                            }
                        })


                    }

                })


            }

        }
    })
}


        function register(){

            var register_name=document.getElementById("register_name").value;
            var register_address=document.getElementById("register_address").value;
            var register_r_address=document.getElementById("register_r_address").value;
            var register_code=document.getElementById("register_code").value;
            var register_yx=document.getElementById("register_yx").value;


            if(register_address==register_r_address){

                $.ajax({
                    url: 'http://localhost:8001/register',
                    type: 'post',
                    data:{name:register_name,address:register_address,code:register_code,email:register_yx,r_code:code},
                    datatype: 'json',
                    success: function(res) {
                        if(res=="用户名存在"){
                            alert(res+"  "+"请重新输入用户名")
                        }if(res=="验证码不正确"){
                            alert(res+"  "+"请重新输入验证码")
                        }if(res=="注册成功") {
                            alert(res+"  "+"请登录")

                            // document.getElementById("divRegister").style.visibility='hidden';
                            // document.getElementById("divlogin").style.visibility='visible';
                        }else {
                            alert(res+",  请重新输入邮箱")
                        }

                    }
                })
            }else {
                alert("密码确认错误")
            }

        }
function loginYx(){


    var login_yx=document.getElementById("login_yx").value;
    var login_address1=document.getElementById("login_address1").value;
    var login_code1=document.getElementById("login_code1").value;
// alert(login_yx+login_address1+login_code1);
    $.ajax({
        url: 'http://localhost:8001/login_yx',
        type: 'post',
        data:{email:login_yx,address:login_address1,code:login_code1,r_code:code},
        datatype: 'json',
        success: function(res) {
            // alert(res)
            if(res=="邮箱不存在"){
                alert(res+"  "+"请重新输入用户名")
            }if(res=="验证码不正确"){
                alert(res+"  "+"请重新输入验证码")
            }
            if(res=="用户密码不正确"){
                alert(res+"  "+"请重新输入用户密码")
            }
            if(res=="登陆成功") {
                alert(res+"  "+"即将跳转首页")

                $.ajax({
                    url: 'http://localhost:8001/getUserROleYx',
                    type: 'post',
                    data:{name:login_yx},
                    datatype: 'json',
                    success: function(res) {
                        alert(res+"  "+"即将跳转首页1")
                        $.ajax({
                            url: 'http://localhost:8001/setUser_yxSession',
                            type: 'post',
                            data: {userName: login_yx},
                            datatype: 'json',
                            success: function (res1) {
                                // alert(res1+" "+"存储成功")

                                $.ajax({
                                    url: 'http://localhost:8001/setUserYxROleSession',
                                    type: 'post',
                                    data: {role: res},
                                    datatype: 'json',
                                    success: function (res2) {
                                        // alert(res2+" "+"存储成功2")
                                        window.location.href="http://localhost:8001/index";

                                    }
                                })
                            }
                        })


                    }

                })


                // $.ajax({
                //     url:"http://localhost:8081/testPage?currentPageNumber=2",
                //     type:"get"
                // })



            }

        }
    })
}


    </script>


</body>

</html>